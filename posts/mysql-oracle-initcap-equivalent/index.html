<!doctype html><html lang=de><head><link href="https://fonts.googleapis.com/css?family=Archivo+Black|Judson:400,700" rel=stylesheet><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/styles.css><title>MySQL Equivalent zu ORACLE's initcap | Jens Blawatt</title></head><body><header><a href=/ class=logo>Jens Blawatt</a><nav id=menu class=menu><a href=/>Startseite</a>
<a href=/posts>Posts</a>
<a href=/notizen>Notizen</a></nav></header><div class=page><main class=page><h1>MySQL Equivalent zu ORACLE&rsquo;s initcap</h1><p style=text-align:center><time datetime="2008-04-11 00:00:00 +0000 UTC">Friday, 11 April 2008</time><br><a href=https://blog.j3nk0.de/tags/mysql/>mysql</a></p><div class=text><p>Die Funktion <strong>initcap</strong> des <em>DBMS ORACLE</em> verwandelt jedes erste
Zeichen eines Wortes in einem übergebenen String in ein Großbuchstaben,
der Rest wird klein geschrieben.</p><p><strong>Beispiel:</strong></p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#bbb>    </span><span style=color:#000;font-weight:700>select</span><span style=color:#bbb> </span>initcap(<span style=color:#d14>&#39;jens blawatt&#39;</span>)<span style=color:#bbb> </span><span style=color:#000;font-weight:700>from</span><span style=color:#bbb> </span>dual;<span style=color:#bbb>
</span></code></pre></div><p><strong>Ergebnis:</strong></p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>    Jens Blawatt
</code></pre></div><p>Diese Funktion gibt es leider in MySQL nicht. Es ist jedoch möglich
eigene Funktionen zu schreiben. Hier ist also meine MySQL initcap
Version (unter dem Quellcode gibt es die Downloadmöglichkeit):</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#bbb>    </span><span style=color:#000;font-weight:700>DELIMITER</span><span style=color:#bbb> </span><span style=color:#a61717;background-color:#e3d2d2>$$</span><span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>    </span><span style=color:#000;font-weight:700>DROP</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>FUNCTION</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>IF</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>EXISTS</span><span style=color:#bbb> </span>initcap$$<span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>    </span><span style=color:#000;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>FUNCTION</span><span style=color:#bbb> </span>initcap(<span style=color:#bbb> </span>param<span style=color:#bbb> </span><span style=color:#0086b3>VARCHAR</span>(<span style=color:#099>255</span>)<span style=color:#bbb> </span>)<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#000;font-weight:700>RETURNS</span><span style=color:#bbb> </span><span style=color:#0086b3>VARCHAR</span>(<span style=color:#099>255</span>)<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#998;font-style:italic>/*
</span><span style=color:#998;font-style:italic>        * Author : Jens Blawatt
</span><span style=color:#998;font-style:italic>        * Website : http://www.Blawatt.de
</span><span style=color:#998;font-style:italic>        * Description : A MySQL equivalent to ORACLE&#39;s initcap
</span><span style=color:#998;font-style:italic>        */</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#000;font-weight:700>BEGIN</span><span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:#000;font-weight:700>DECLARE</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>result</span><span style=color:#bbb> </span><span style=color:#0086b3>VARCHAR</span>(<span style=color:#099>255</span>)<span style=color:#bbb> </span><span style=color:#000;font-weight:700>default</span><span style=color:#bbb> </span><span style=color:#d14>&#39;&#39;</span>;<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:#000;font-weight:700>DECLARE</span><span style=color:#bbb> </span>tmp<span style=color:#bbb> </span><span style=color:#0086b3>VARCHAR</span>(<span style=color:#099>255</span>)<span style=color:#bbb> </span><span style=color:#000;font-weight:700>default</span><span style=color:#bbb> </span><span style=color:#d14>&#39;&#39;</span>;<span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>            </span><span style=color:#998;font-style:italic>-- endless repeat
</span><span style=color:#998;font-style:italic></span><span style=color:#bbb>            </span>WHILE<span style=color:#bbb>  </span><span style=color:#099>1</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>=</span><span style=color:#bbb> </span><span style=color:#099>1</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>DO</span><span style=color:#bbb>
</span><span style=color:#bbb>                </span><span style=color:#998;font-style:italic>-- if it&#39;s the end of the blank spearated string
</span><span style=color:#998;font-style:italic></span><span style=color:#bbb>                </span><span style=color:#000;font-weight:700>IF</span><span style=color:#bbb> </span>INSTR(<span style=color:#000;font-weight:700>TRIM</span>(param)<span style=color:#bbb> </span>,<span style=color:#bbb> </span><span style=color:#d14>&#39; &#39;</span>)<span style=color:#bbb> </span><span style=color:#000;font-weight:700>=</span><span style=color:#bbb> </span><span style=color:#099>0</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>THEN</span><span style=color:#bbb>
</span><span style=color:#bbb>                    </span><span style=color:#000;font-weight:700>return</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>trim</span>(concat(<span style=color:#000;font-weight:700>result</span>,<span style=color:#bbb> </span>UCASE(<span style=color:#000;font-weight:700>LEFT</span>(param,<span style=color:#099>1</span>)),<span style=color:#000;font-weight:700>LOWER</span>(SUBSTR(param,<span style=color:#099>2</span>))));<span style=color:#bbb>
</span><span style=color:#bbb>                </span><span style=color:#000;font-weight:700>END</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>IF</span>;<span style=color:#bbb>
</span><span style=color:#bbb>        
</span><span style=color:#bbb>                </span><span style=color:#998;font-style:italic>-- split the first part to tmp
</span><span style=color:#998;font-style:italic></span><span style=color:#bbb>                </span><span style=color:#000;font-weight:700>SET</span><span style=color:#bbb> </span>tmp<span style=color:#bbb> </span><span style=color:#000;font-weight:700>=</span><span style=color:#bbb> </span>SUBSTR(param,<span style=color:#bbb> </span><span style=color:#099>1</span>,<span style=color:#bbb> </span>INSTR(param<span style=color:#bbb> </span>,<span style=color:#bbb> </span><span style=color:#d14>&#39; &#39;</span>));<span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>                </span><span style=color:#998;font-style:italic>-- write first character in capital letter rest in small type
</span><span style=color:#998;font-style:italic></span><span style=color:#bbb>                </span><span style=color:#000;font-weight:700>SET</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>result</span><span style=color:#bbb> </span><span style=color:#000;font-weight:700>=</span><span style=color:#bbb> </span>CONCAT(<span style=color:#000;font-weight:700>result</span>,<span style=color:#bbb> </span>UCASE(<span style=color:#000;font-weight:700>LEFT</span>(tmp,<span style=color:#099>1</span>)),<span style=color:#000;font-weight:700>LOWER</span>(SUBSTR(tmp,<span style=color:#099>2</span>)));<span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>                </span><span style=color:#998;font-style:italic>-- remove splitted word from param string
</span><span style=color:#998;font-style:italic></span><span style=color:#bbb>                </span><span style=color:#000;font-weight:700>SET</span><span style=color:#bbb> </span>param<span style=color:#bbb> </span><span style=color:#000;font-weight:700>=</span><span style=color:#bbb> </span>SUBSTR(param,<span style=color:#bbb> </span>INSTR(param<span style=color:#bbb> </span>,<span style=color:#bbb> </span><span style=color:#d14>&#39; &#39;</span>)<span style=color:#bbb> </span><span style=color:#000;font-weight:700>+</span><span style=color:#bbb> </span><span style=color:#099>1</span>);<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:#000;font-weight:700>END</span><span style=color:#bbb> </span>WHILE;<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#000;font-weight:700>END</span><span style=color:#a61717;background-color:#e3d2d2>$$</span><span style=color:#bbb>
</span><span style=color:#bbb>    
</span><span style=color:#bbb>    </span><span style=color:#000;font-weight:700>DELIMITER</span><span style=color:#bbb> </span>;<span style=color:#bbb>
</span></code></pre></div></div></main></main></div><footer><nav><a href=/>Home</a>
<a href=https://github.com/jblawatt>GitHub</a>
<a href=/index.xml>RSS</a></nav><div class=copyright>Copyright (c) 2021, Jens Blawatt; all rights reserved.</div></footer></body></html>